/* ...existing code... */

/* Basic CSS variables including Telegram theme fallbacks and color palette */
:root{
  /* Telegram theme variables (will be overridden by JS if tg.themeParams exists) */
  --tg-theme-bg-color: #F5F5F5; /* warm gray */
  --tg-theme-button-color: #FFC1CC; /* soft pink */
  --tg-theme-text-color: #1E3A8A; /* deep blue */
  --card-bg: #FFFFFF; /* white */
  --gap: 8px;
  --pad: 16px;
  --font-family: 'Noto Sans', system-ui, -apple-system, 'Segoe UI', Roboto, sans-serif;
}

/* Mobile-first layout */
html,body{
  height:100%;
  margin:0;
  background:var(--tg-theme-bg-color);
  color:var(--tg-theme-text-color);
  font-family:var(--font-family);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* App root occupies full viewport */
.app-root{
  display:flex;
  flex-direction:column;
  min-height:100vh;
  padding:var(--pad);
  gap:var(--gap);
}

/* Header 10% height approximately */
.app-header{
  flex:0 0 auto;
  display:flex;
  align-items:center;
  justify-content:center;
  height:10vh;
}

#title{
  margin:0;
  font-weight:700;
  font-size:20px; /* header font size per spec */
  color:var(--tg-theme-text-color);
}

/* Main content (approx 70% height) */
.app-body{
  flex:1 1 auto;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:var(--gap);
}

/* Footer 20% approximate */
.app-footer{
  flex:0 0 auto;
  display:flex;
  align-items:center;
  justify-content:center;
  height:20vh;
}

.hint{
  margin:0;
  font-size:14px;
  color:var(--tg-theme-text-color);
  opacity:0.9;
}

/* Screen handling: only .screen--visible is shown */
.screen{
  display:none;
  width:100%;
  max-width:520px;
}
.screen--visible{
  display:block;
}

/* Welcome screen visuals */
.lead{
  font-weight:400;
  font-size:16px;
  text-align:center;
  margin-bottom:16px;
}

/* Circular start visual (actual action is Telegram MainButton) */
.start-circle{
  width:160px;
  height:160px;
  background:linear-gradient(180deg, var(--tg-theme-button-color), #FF9EB0);
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  margin:0 auto;
  box-shadow:0 6px 16px rgba(0,0,0,0.12);
}
.start-label{
  font-weight:700;
  color:var(--card-bg);
  font-size:18px;
}

/* Form inputs and labels */
.form-row{
  display:flex;
  flex-direction:column;
  gap:8px;
}
.label{
  font-weight:700;
  font-size:14px;
}
.text-input, .text-area{
  padding:12px;
  font-size:16px; /* minimum 16px for accessibility */
  border-radius:8px;
  border:1px solid rgba(30,58,138,0.12);
  background:var(--card-bg);
  color:var(--tg-theme-text-color);
  outline:none;
  resize:vertical;
}
.text-input:focus, .text-area:focus{
  box-shadow:0 0 0 4px rgba(255,193,204,0.14);
}

/* Card for question */
.card{
  background:var(--card-bg);
  border-radius:12px;
  padding:var(--pad);
  box-shadow:0 6px 18px rgba(30,58,138,0.06);
  display:flex;
  flex-direction:column;
  gap:12px;
}

/* Question and progress */
.progress{
  font-size:14px;
  font-weight:700;
  color:var(--tg-theme-text-color);
}
.question{
  font-size:16px;
  font-weight:400;
}

/* Voice row */
.voice-row{
  display:flex;
  align-items:center;
  gap:8px;
}
.btn{
  padding:8px 12px;
  border-radius:8px;
  border:none;
  background:var(--tg-theme-button-color);
  color:#fff;
  font-weight:700;
  cursor:pointer;
}
.btn-ghost{
  padding:6px 10px;
  border-radius:8px;
  background:transparent;
  border:1px dashed rgba(30,58,138,0.12);
  color:var(--tg-theme-text-color);
  cursor:pointer;
}
.voice-note{
  font-size:12px;
  color:rgba(30,58,138,0.8);
}

/* AI reply placeholder */
.ai-reply{
  margin-top:8px;
  padding:10px;
  border-radius:8px;
  background:linear-gradient(180deg, #fff, #fafafa);
  border:1px solid rgba(30,58,138,0.04);
  font-size:14px;
}

/* Small feedback text */
.feedback{
  font-size:13px;
  color:rgba(30,58,138,0.9);
}

/* End screen */
#end .lead{
  font-size:16px;
  text-align:center;
}

/* Accessibility helpers */
.visually-hidden{
  position:absolute;
  width:1px;
  height:1px;
  margin:-1px;
  padding:0;
  overflow:hidden;
  clip:rect(0 0 0 0);
  border:0;
}

/* Responsive tweaks */
@media(min-width:720px){
  .start-circle{ width:200px; height:200px; }
  .start-label{ font-size:20px; }
  #title{ font-size:24px; }
}